services:
  # 1. Rails Web ã‚µãƒ¼ãƒ“ã‚¹ã®è¨­å®š (lunchoice)
  - type: web
    name: lunchoice
    plan: free
    region: oregon
    env: ruby
    buildCommand: "./bin/render-build.sh"
    startCommand: "bundle exec puma -C config/puma.rb"
    # ğŸ’¡ ä¿®æ­£ç‚¹: envVars ã¯ Webã‚µãƒ¼ãƒ“ã‚¹ã®ç›´ä¸‹ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã—ã¦ã€
    # name, plan, region, env, buildCommand, startCommand ã¨åŒã˜ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆãƒ¬ãƒ™ãƒ«ã«é…ç½®ã—ã¾ã™ã€‚
    envVars: 
      - key: DATABASE_URL
        value: 
          fromDatabase: lunchoice-db

      - key: RAILS_MASTER_KEY
        value: "dummy_master_key_set_on_render_ui"
        
      - key: WEB_CONCURRENCY
        value: 2

# 2. PostgreSQL ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å®šç¾© (databases ãƒ–ãƒ­ãƒƒã‚¯)
databases:
  - name: lunchoice-db
    plan: free
    region: oregon