services:
  # 1. Rails Web ã‚µãƒ¼ãƒ“ã‚¹ã®è¨­å®š (lunchoice)
  - type: web
    name: lunchoice
    plan: free
    region: oregon
    env: ruby
    buildCommand: "./bin/render-build.sh"
    startCommand: "bundle exec puma -C config/puma.rb"
    
    # æ¥ç¶šã«å¿…è¦ãªç’°å¢ƒå¤‰æ•°ã®å®šç¾©
    envVars:
      # ğŸ’¡ ä¿®æ­£ç‚¹: DATABASE_URLã®å®šç¾©ã‚’ãƒã‚¹ãƒˆã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå½¢å¼ã§è¨˜è¿°ã—ã¾ã™ã€‚
      - key: DATABASE_URL
        # fromDatabase ã‚’ãƒã‚¹ãƒˆã™ã‚‹ã“ã¨ã§ã€YAMLã®ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ã‚’é˜²ãã¾ã™ã€‚
        fromDatabase: lunchoice-db 

      # RAILS_MASTER_KEY ã¯ UI ã§è¨­å®šã™ã‚‹ãŸã‚ã€ä»®ã®å€¤ã‚’æ®‹ã—ã¾ã™ã€‚
      - key: RAILS_MASTER_KEY
        value: "dummy_master_key_set_on_render_ui" 
        
      - key: WEB_CONCURRENCY
        value: 2

# 2. PostgreSQL ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å®šç¾© (databases ãƒ–ãƒ­ãƒƒã‚¯)
databases:
  - name: lunchoice-db
    plan: free
    region: oregon