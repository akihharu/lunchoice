# RenderãŒã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’èªè­˜ãƒ»æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

services:
  # 1. PostgreSQL ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®è¨­å®š (Database ã¯ services ã®å¤–ã§å®šç¾©ã—ã¾ã™)

# 2. Rails Web ã‚µãƒ¼ãƒ“ã‚¹ã®è¨­å®š (services[0] ãŒã“ã‚Œã«ãªã‚Šã¾ã™)
  - type: web
    name: lunchoice
    plan: free
    region: oregon
    env: ruby
    # ğŸ’¡ ä¿®æ­£ç‚¹: runtime: ruby ã¯ä¸è¦ã«ãªã‚Šã¾ã—ãŸ (env: ruby ã§ååˆ†)
    buildCommand: "./bin/render-build.sh"
    startCommand: "bundle exec puma -C config/puma.rb"
    
    # æ¥ç¶šã«å¿…è¦ãªç’°å¢ƒå¤‰æ•°ã®å®šç¾©
    envVars:
      # Renderã®ä»•æ§˜å¤‰æ›´ã«å¯¾å¿œã—ãŸã€æ¨å¥¨ã•ã‚Œã‚‹å‚ç…§æ–¹æ³•ã«å¤‰æ›´ã—ã¾ã™ã€‚
      - key: DATABASE_URL
        fromDatabase: lunchoice-db # DBåã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§RenderãŒè‡ªå‹•ã§æ³¨å…¥
      
      # ã“ã‚Œã¯Renderã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§è¨­å®šã™ã‚‹ã®ãŒæœ€ã‚‚å®‰å…¨ã§ç¢ºå®Ÿã§ã™ã€‚
      # - key: RAILS_MASTER_KEY
      #   value: "" # ã“ã“ã¯Render UIã§æ‰‹å‹•è¨­å®š
        
      - key: WEB_CONCURRENCY
        value: 2 # Pumaã‚µãƒ¼ãƒãƒ¼ã®ãƒ—ãƒ­ã‚»ã‚¹æ•°

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒ“ã‚¹ã®å®šç¾©ã‚’ resource ãƒ–ãƒ­ãƒƒã‚¯ã¨ã—ã¦è¿½åŠ ã—ã¾ã™
# ã“ã‚ŒãŒä»¥å‰ã® services[0] ã®å½¹å‰²ã‚’æœãŸã—ã¾ã™ã€‚
databases:
  - name: lunchoice-db
    plan: free
    region: oregon